<!DOCTYPE html>
<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.3
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
{% load staticfiles %}
<head>
    <meta charset="utf-8"/>
    <title>City Hoopla | Rate Card</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/uniform/css/uniform.default.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href="{% static 'assets/global/plugins/bootstrap-select/css/bootstrap-select.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/jquery-multi-select/css/multi-select.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2-bootstrap.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2-bootstrap.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href="{% static 'assets/global/plugins/bootstrap-toastr/toastr.min.css' %}" rel="stylesheet" type="text/css" />

    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="{% static 'assets/global/css/components.min.css' %}" rel="stylesheet" id="style_components"
          type="text/css"/>
    <link href="{% static 'assets/global/css/plugins.min.css' %}" rel="stylesheet" type="text/css"/>
    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="{% static 'assets/layouts/layout2/css/layout.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/layouts/layout2/css/themes/blue.min.css' %}" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link href="{% static 'assets/layouts/layout2/css/custom.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/datatables/datatables.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/layouts/layout/css/cha_custom.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css' %}"
          rel="stylesheet" type="text/css"/>

    <!-- END THEME LAYOUT STYLES -->


    <link rel="shortcut icon" href="favicon.ico"/>
</head>
<!-- END HEAD -->
<style>
    input{
        width: 100%;
    }
</style>
<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid">
<!-- BEGIN HEADER -->
<div id="processing" style="display:none;">
    <div id="loading">
        <img src="{% static 'assets/loading-bars.gif' %}" style="height : 100px;">

    </div>
</div>

<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner ">
        <!-- BEGIN LOGO -->
        <div class="page-logo">
            <a href="javascript:;">
                <img src="{% static 'assets/layouts/layout2/img/City_Hoopla_Logo.png' %}" alt="logo"
                     class="logo-default"/> </a>
            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
           data-target=".navbar-collapse"> </a>
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN PAGE TOP -->
        <div class="page-top">
            <!-- BEGIN TOP NAVIGATION MENU -->
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <!-- BEGIN NOTIFICATION DROPDOWN -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <!-- <li class="dropdown dropdown-extended dropdown-notification" id="header_notification_bar">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                            <i class="icon-bell"></i>
                            <span class="badge badge-default"> 7 </span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="external">
                                <h3>
                                    <span class="bold">12 pending</span> notifications</h3>
                                <a href="page_user_profile_1.html">view all</a>
                            </li>
                            <li>
                                <ul class="dropdown-menu-list scroller" style="height: 250px;" data-handle-color="#637283">
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">just now</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-success">
                                                    <i class="fa fa-plus"></i>
                                                </span> New user registered. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">3 mins</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-danger">
                                                    <i class="fa fa-bolt"></i>
                                                </span> Server #12 overloaded. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">10 mins</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-warning">
                                                    <i class="fa fa-bell-o"></i>
                                                </span> Server #2 not responding. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">14 hrs</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-info">
                                                    <i class="fa fa-bullhorn"></i>
                                                </span> Application error. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">2 days</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-danger">
                                                    <i class="fa fa-bolt"></i>
                                                </span> Database overloaded 68%. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">3 days</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-danger">
                                                    <i class="fa fa-bolt"></i>
                                                </span> A user IP blocked. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">4 days</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-warning">
                                                    <i class="fa fa-bell-o"></i>
                                                </span> Storage Server #4 not responding dfdfdfd. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">5 days</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-info">
                                                    <i class="fa fa-bullhorn"></i>
                                                </span> System Error. </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;">
                                            <span class="time">9 days</span>
                                            <span class="details">
                                                <span class="label label-sm label-icon label-danger">
                                                    <i class="fa fa-bolt"></i>
                                                </span> Storage server failed. </span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li> -->
                    <!-- END NOTIFICATION DROPDOWN -->
                    <!-- BEGIN USER LOGIN DROPDOWN -->
                    <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <!-- <img alt="" class="img-circle" src="{% static 'assets/layouts/layout2/img/avatar3_small.jpg" /> -->
                            <span class="username username-hide-on-mobile"> {{ username }} </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            <!-- <li>
                                <a href="page_user_profile_1.html">
                                    <i class="icon-user"></i> My Profile </a>
                            </li> -->
                            <li>
                                <a href="/log-out/">
                                    <i class="icon-key"></i> Log Out </a>
                            </li>
                        </ul>
                    </li>
                    <!-- END USER LOGIN DROPDOWN -->
                </ul>
            </div>
            <!-- END TOP NAVIGATION MENU -->
        </div>
        <!-- END PAGE TOP -->
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<!-- BEGIN HEADER & CONTENT DIVIDER -->
<div class="clearfix"></div>
<!-- END HEADER & CONTENT DIVIDER -->
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
        <!-- END SIDEBAR -->
        <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
        <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
        <div class="page-sidebar navbar-collapse collapse">
            <!-- BEGIN SIDEBAR MENU -->
            <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
            <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
            <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
            <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
            <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
            <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
            {% include 'Admin/side-panel.html' %}
            <!-- END SIDEBAR MENU -->
        </div>
        <!-- END SIDEBAR -->
    </div>
    <!-- END SIDEBAR -->
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <!-- BEGIN CONTENT BODY -->
        <div class="page-content">

            <!-- END PAGE HEADER-->
            <div class="row">
                <div class="col-lg-12">
                    <div class="portlet light  ">
                        <div class="portlet-body form">
                            <!-- BEGIN FORM-->
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="margin_bottom_15">
                                        <a href="/rate-card/" class="brad-crum-1">Rate Card</a>
                                        <i class="fa fa-angle-right"></i>
                                        <span class="brad-crum-2">Add Rate Card</span>
                                    </div>
                                    <div class="portlet-body">
                                        <div class="row">
                                            <div class="col-md-12 col-md-12 col-xs-12">
                                                <div class="tab-content">
                                                    <div class="tab-pane active" id="tab_1">
                                                        <div class="row margin_bottom_15">
                                                            <div class="col-lg-12 col-md-12">
                                                                <label class="control-label">City</label><br>
                                                                <select class="form-control city" name="city" id="city">
                                                                    <option value="">Select City</option>
                                                                    {% for city in city_list %}
                                                                    <option value="{{city.city_place_id}}">{{city.city_id.city_name}}</option>
                                                                    {% endfor %}
                                                                </select>
                                                                <label id="city_error" class="error_label" style="display:none;"></label>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-10 col-md-10 margin_top_7 margin_bottom_15">
                                                                <label class="font-bold font-blue font-18">Define Premium Rates</label>
                                                            </div>
                                                            <div class="col-lg-2 col-md-2 text-right">
                                                                <a href="/rate-card/"
                                                                        class="btn btn-outline grey_color">
                                                                    Cancel
                                                                </a>
                                                                <button type="submit"
                                                                        id="save_prem_service"
                                                                        class="btn btn-outline done_btn">
                                                                    Save
                                                                </button>
                                                            </div>
                                                            <form id="prem_service_form">
                                                                <div class="col-lg-12 col-md-12 border_top">
                                                                    <div class="table-responsive margin_top_15">
                                                                        <table id="prem_service_tbl" class="table table-striped table-bordered table-hover">
                                                                            <thead>
                                                                                <th class="table_th_1">Premium Service</th>
                                                                                <th class="table_th">3 Days</th>
                                                                                <th class="table_th">7 Days</th>
                                                                                <th class="table_th">30 Days</th>
                                                                                <th class="table_th">90 Days</th>
                                                                                <th class="table_th">180 Days</th>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="table_th_1">
                                                                                        <label class="margin_top_7">Advert Slider</label>
                                                                                        <input name="prem_service_name" hidden value="Advert Slider">
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="table_th_1">
                                                                                        <label name="prem_service_name" class="margin_top_7">Top Advert</label>
                                                                                        <input name="prem_service_name" hidden value="Top Advert">
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPresss(this,event);' type="text"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' readonly type="text" value="N/A"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                    <td class="table_th">
                                                                                        <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' readonly type="text" value="N/A"/>
                                                                                        <label class="error_label" style="display:none;"></label>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <br>
                                                        <br>
                                                        <div class="row">
                                                            <div class="col-lg-12 col-md-12 form-group">
                                                                <label class="font-bold font-blue font-18">Define Categorywise Service Rates</label>
                                                            </div>
                                                            <div class="col-lg-9 col-md-9 form-group">
                                                                <label class="control-label">Primary Category</label><br>
                                                                <select class="form-control category" name="category" id="category">

                                                                </select>
                                                                <label id="cat_error" class="error_label" style="display:none;"></label>
                                                            </div>
                                                            <div class="col-lg-3 col-md-3 margin_top_20 text-right">
                                                                <button type="submit"
                                                                        id="save_catwise_service"
                                                                        class="btn btn-outline done_btn">
                                                                    Save Rates for Category
                                                                </button>
                                                            </div>
                                                            <div id="catwise_service_div" class="col-lg-12 col-md-12 border_top border_bottom" style="display:none;">
                                                                <div class="col-lg-3 col-md-3 padding_left0 cat_div border_right" style="height:500px; ">
                                                                    <label id="sub_cat_error" class="error_label " style="display:none; margin-top:15px;"></label>
                                                                    <div id="cat_list_div" class="margin_top_15 margin_bottom_15">
                                                                    </div>
                                                                </div>
                                                                <form id="catwise_service_form">
                                                                    <div class="col-lg-9 col-md-9 cat_div" >
                                                                        <div id="cat_wise_div" style="display:none;">
                                                                            <label class="control-label form-group margin_top_15">Rates for <span id="cat_name" name="cat_name"></span></label>
                                                                            <input id="category_level" name="category_level" hidden>
                                                                            <input id="category_id" name="category_id" hidden>
                                                                            <div class="table-responsive">
                                                                                <table id="catwise_service_tbl" class="table table-striped table-bordered table-hover">
                                                                                    <thead>
                                                                                        <th class="table_th_2">Service Level</th>
                                                                                        <th class="table_th_2_1">3 Days</th>
                                                                                        <th class="table_th_2_1">7 Days</th>
                                                                                        <th class="table_th_2_1">30 Days</th>
                                                                                        <th class="table_th_2_1">90 Days</th>
                                                                                        <th class="table_th_2_1">180 Days</th>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        <tr>
                                                                                            <td class="table_th_2">
                                                                                                <label class="margin_top_7">Subscription</label>
                                                                                                <input name="service_name" hidden value="Subscription">
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td class="table_th_2">
                                                                                                <label class="margin_top_7">Listing No 1</label>
                                                                                                <input name="service_name" hidden value="Listing No 1">
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td class="table_th_2">
                                                                                                <label class="margin_top_7">Listing No 2</label>
                                                                                                <input name="service_name" hidden value="Listing No 2">
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td class="table_th_2">
                                                                                                <label class="margin_top_7">Listing No 3</label>
                                                                                                <input name="service_name" hidden value="Listing No 3">
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="3_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="7_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="30_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="90_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                            <td class="table_th_2_1">
                                                                                                <input name="180_days_price" class="form-control" onkeypress='return validateFloatKeyPress(this,event);' type="text"/>
                                                                                                <label class="error_label" style="display:none;"></label>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- END FORM-->
                            </div>
                        </div>
                        <!-- END PORTLET-->
                    </div>
                </div>
            </div>
            <!-- END CONTENT BODY -->
        </div>
        <!-- END CONTENT -->
    </div>
</div>
<!-- END CONTAINER -->
<!-- /.modal -->
<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="page-footer-inner"> 2016 &copy; DigiSpace.
    </div>
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
</div>

<!-- END FOOTER -->
<!--[if lt IE 9]>
<script src="{% static 'assets/global/plugins/respond.min.js' %}"></script>
<script src="{% static 'assets/global/plugins/excanvas.min.js' %}"></script>
<![endif]-->
<!-- BEGIN CORE PLUGINS -->
<script src="{% static 'assets/global/plugins/jquery.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/js.cookie.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/jquery.blockui.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/uniform/jquery.uniform.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}"
        type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="{% static 'assets/global/plugins/bootstrap-select/js/bootstrap-select.min.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/jquery-multi-select/js/jquery.multi-select.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/select2/js/select2.full.min.js' %}" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="{% static 'assets/global/plugins/select2/js/select2.full.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/pages/scripts/components-select2.min.js' %}" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="{% static 'assets/global/scripts/app.min.js' %}" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="{% static 'assets/pages/scripts/components-multi-select.min.js' %}" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="{% static 'assets/layouts/layout2/scripts/layout.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/layouts/layout2/scripts/demo.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/layouts/global/scripts/quick-sidebar.min.js' %}" type="text/javascript"></script>
<!-- END THEME LAYOUT SCRIPTS -->
<script src="{% static 'assets/global/scripts/datatable.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/datatables/datatables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js' %}"
        type="text/javascript"></script>
<script src="{% static 'assets/pages/scripts/table-datatables-editable.min.js' %}" type="text/javascript"></script>
<script src="{% static 'assets/global/plugins/bootstrap-toastr/toastr.min.js' %}" type="text/javascript"></script>

<script type="text/javascript">

    var cat_selection_flag = 0;

    toastr.options = {
        "closeButton": true,
        "debug": false,
        "positionClass": "toast-top-right",
        "onclick": null,
        "showDuration": "1000",
        "hideDuration": "1000",
        "timeOut": "5000",
        "extendedTimeOut": "1000",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }

    $('.category').select2({
            width: '41%'
        });

    $('.city').select2({
            width: '30%'
        });

    function showTable(xyz,id,level){
        $("#cat_wise_div").load(location.href+" #cat_wise_div>*","");
        setTimeout(function(){
            $(".label_item").each(function() {
                $(this).removeClass('font-15 font-bold');
                label_text = $(this).text().trim();
                $(this).html('');
                $(this).text(label_text);
            });
            $("#cat_name").text($(xyz).text());
            $("#category_id").val(id);
            $("#category_level").val(level);
            $("#cat_wise_div").css("display","block");
            $(xyz).addClass('font-15 font-bold');
            $(xyz).append("&nbsp;&nbsp;&nbsp;<i class='fa fa-chevron-right'></i>");
            cat_selection_flag = 1;
        }, 300);
    }

    function collapse_div(div_name,xyz){
        if ($("."+div_name).is(':hidden')){
            $("."+div_name).show();
            $(xyz).removeClass("fa fa-plus-square");
            $(xyz).addClass("fa fa-minus-square");
        }
        else{
            $("."+div_name).hide();
            $(xyz).removeClass("fa fa-minus-square");
            $(xyz).addClass("fa fa-plus-square");
        }
    }

    $('#city').change(function(){
        city_id = $('#city').val();
        if(city_id == ""){
            return false;
        }
        $('#category').html('');
        $.ajax({
            type : "GET",
            url : '/get-city-category-list/',
            data : {'city_id':city_id},
            success: function (response) {
                if(response.success=='true'){
                    $('#category').append('<option value="">Select Category</option>');
                    $.each(response.cat_list, function (index, item) {
                        $('#category').append('<option value="'+item.cat_id+'">'+item.cat_name+'</option>');
                    });
                    $("#cat_name").text('');
                    $("#category_level").text('');
                    $("#category_id").text('');
                    cat_selection_flag = 0;
                    $("#cat_wise_div").css("display","none");
                    $("#catwise_service_div").css("display","none");
                }
            },
            beforeSend: function () {
                $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error : function(response){
                alert("_Error");
            }
        });
    })

    $('#category').change(function(){
        category_id = $('#category').val();
        if(category_id == ""){
            return false;
        }
        $.ajax({
            type : "GET",
            url : '/get-all-category-list/',
            data : {'category_id':category_id},
            success: function (response) {
                if(response.success=='true'){
                    $("#cat_list_div").html('');
                    $("#cat_list_div").append(response.cat_str);
                }
                $("#cat_name").text('');
                $("#category_level").text('');
                $("#category_id").text('');
                cat_selection_flag = 0;
                $("#catwise_service_div").css("display","block");
                $("#cat_wise_div").css("display","none");
            },
            beforeSend: function () {
                $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error : function(response){
                alert("_Error");
            }
        });
    })

    function validateFloatKeyPress(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        var number = el.value.split('.');
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        if (number[1].length > 1){
            return false;
        }
        if (number.length > 1 && charCode == 46) {
            return false;
        }
        var caratPos = getSelectionStart(el);
        var dotPos = el.value.indexOf(".");
        if (caratPos > dotPos && dotPos > -1 && (number[1].length > 1) && (number[1].length < 3)) {
            if (charCode == 8)
                return true;
            else
                return false;
        }
        return true;
    }

    function validate_table() {
        i = 0;
        $("#prem_service_tbl tr").each(function () {
            values = "";
            $(this).find("td").each(function (index) {
                if ($(this).find("input").val() == ""){
                    $(this).find('.error_label').css("display", "block");
                    $(this).find('.error_label').css("color", "red");
                    $(this).find('.error_label').css("font-weight", "400");
                    $(this).find('.error_label').css("font-size", "12px");
                    $(this).find('.error_label').text("Please enter Price ");
                    i = 1;
                }
                else{
                    $(this).find('.error_label').css("display", "none");
                }
            });
        });
        return i;
    }

    $("#save_prem_service").click(function(){
        city_id = $("#city").val();
        if(city_id == ""){
            $("#city_error").css("display", "block");
            $("#city_error").css("color", "red");
            $("#city_error").css("font-weight", "400");
            $("#city_error").css("font-size", "12px");
            $("#city_error").css("margin", "0px");
            $("#city_error").text('Please select city');
            return false;
        }else{
            $("#city_error").css("display", "none");
        }
        if (validate_table() == 1){
            return false;
        };
        form_str = $("#prem_service_form").serialize()+"&city_id="+city_id;
        $.ajax({
            type : "POST",
            url : '/save-prem-sevice-rate-card/',
            data : form_str,
            success: function (response) {
                if(response.success=='true'){
                    toastr.success(response.message);
                }else{
                    toastr.error(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error : function(response){
                alert("_Error");
            }
        });
    });

    function validate_catwise_table() {
        i = 0;
        $("#catwise_service_tbl tr").each(function () {
            values = "";
            $(this).find("td").each(function (index) {
                if ($(this).find("input").val() == ""){
                    $(this).find('.error_label').css("display", "block");
                    $(this).find('.error_label').css("color", "red");
                    $(this).find('.error_label').css("font-weight", "400");
                    $(this).find('.error_label').css("font-size", "12px");
                    $(this).find('.error_label').text("Please enter Price ");
                    i = 1;
                }
                else{
                    $(this).find('.error_label').css("display", "none");
                }
            });
        });
        return i;
    }
    //sub_cat_error
    $("#save_catwise_service").click(function(){


        city_id = $("#city").val();
        cat_id= $('#category').val();
        if(city_id == ""){
            $("#city_error").css("display", "block");
            $("#city_error").css("color", "red");
            $("#city_error").css("font-weight", "400");
            $("#city_error").css("font-size", "12px");
            $("#city_error").css("margin", "0px");
            $("#city_error").text('Please select city');
            return false;
        }else{
            $("#city_error").css("display", "none");
        }

        if(cat_id == ""){
            $("#cat_error").css("display", "block");
            $("#cat_error").css("color", "red");
            $("#cat_error").css("font-weight", "400");
            $("#cat_error").css("font-size", "12px");
            $("#cat_error").css("margin", "0px");
            $("#cat_error").text('Please select category');
            return false;
        }else{
            $("#cat_error").css("display", "none");
        }

        if(cat_selection_flag == 0){
            $("#sub_cat_error").css("display", "block");
            $("#sub_cat_error").css("color", "red");
            $("#sub_cat_error").css("font-weight", "400");
            $("#sub_cat_error").css("font-size", "12px");
            $("#sub_cat_error").css("margin", "0px");
            $("#sub_cat_error").text('Please select sub category');
            return false;
        }else{
            $("#sub_cat_error").css("display", "none");
        }


        if (validate_catwise_table() == 1){
            return false;
        };

        form_str = $("#catwise_service_form").serialize()+"&city_id="+city_id;
        $.ajax({
            type : "POST",
            url : '/save-cat-wise-rate-card/',
            data : form_str,
            success: function (response) {
                if(response.success=='true'){
                    toastr.success(response.message);
                }else{
                    toastr.error(response.message);
                }
            },
            beforeSend: function () {
                $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error : function(response){
                alert("_Error");
            }
        });
    });

</script>


</body>

</html>
