
<!DOCTYPE html>

<html lang="en">

    <!-- BEGIN HEAD -->
{% load staticfiles %}
    <head>
    <head>
    <meta charset="utf-8"/>
    <title>City Hoopla | Role List </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <!-- BEGIN GLOBAL MANDATORY STYLES -->

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/uniform/css/uniform.default.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/global/plugins/select2/css/select2-bootstrap.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <!-- <link href="{% static 'assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css' %}" rel="stylesheet" type="text/css" /> -->
    <link href="{% static 'assets/global/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css' %}" rel="stylesheet"
          type="text/css"/>
    <link href="{% static 'assets/global/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css' %}" rel="stylesheet"
          type="text/css"/>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="{% static 'assets/global/css/components.min.css' %}" rel="stylesheet" id="style_components"
          type="text/css"/>
    <link href="{% static 'assets/global/css/plugins.min.css' %}" rel="stylesheet" type="text/css"/>
    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="{% static 'assets/layouts/layout2/css/layout.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/layouts/layout2/css/themes/blue.min.css' %}" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link href="{% static 'assets/layouts/layout2/css/custom.min.css' %}" rel="stylesheet" type="text/css"/>

    <link href="{% static 'vendor/bootstrap-fileinput/jasny-bootstrap.min.css' %}" rel="stylesheet" media="screen">


    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.common-material.min.css"/>
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.material.min.css"/>

    <link href="{% static 'assets/pages/css/dropzone.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/custom/css/map.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'assets/bootstrap-tagsinput.css' %}" rel="stylesheet" type="text/css"/>
            <link href="{% static 'assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css'%}" rel="stylesheet" type="text/css" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/css/bootstrap-datepicker.css" rel="stylesheet" type="text/css" />
    <!-- END THEME LAYOUT STYLES -->
  
  
   </head>
    <!-- END HEAD -->



<style type="text/css">

.has-success .control-label{
    color : #333;
}

.has-success .form-control {
    border: 1px solid #C2CAD8;
}

        div.dataTables_wrapper div.dataTables_info {
    padding-top: 8px;
    white-space: nowrap;
    display: none;
}
div.dataTables_wrapper div.dataTables_length label {
    font-weight: normal;
    text-align: left;
    white-space: nowrap;
    display: none;
}

div.dataTables_filter label {
    font-weight: normal;
    white-space: nowrap;
    text-align: left;
    display: none;
}

.border_s{

    border: 1px solid #ddd;
    padding: 10px;
}
.fa-lg {
    font-size: 2.333333em;
    line-height: .75em;
    vertical-align: -15%;
}

div.checker span {
    display: -moz-inline-box;
    display: inline-block;
    zoom: 1;
    text-align: center;
    background-position: 0 -260px;

}

#processing{
    height: 100vh;
    position: fixed;
    width: 100%;
    margin: 0px auto;
    z-index: 9999;
    background-color: #FFF;
    background-image: none;
    background-attachment: scroll;
    background-position: 0% 0%;
    background-clip: border-box;
    background-origin: padding-box;
    background-repeat: repeat;
    background-size: inherit;
    opacity: 0.5;
}

#loading{
    width: 36%;
    height: 22px;
    position: absolute;
    top: 26%;
    left: 32%;
    margin: -28px 0px 0px -25px;
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    color: #000;
}

#user_table_paginate{
float:right !important;
}

.form-height{
height: 65px;
}

.user-image img {
    max-width: 100%;
}

.fileinput .thumbnail>img {
    height: 178px !important;
}

.fileinput-preview.thumbnail {
    max-width: 278px;
}

.btn-azure:hover {
    background-color: #0095C8;
    border-color: #0095C8;
    color: #ffffff;
}

.btn-file {
    overflow: hidden;
    position: relative;
    vertical-align: middle;
}

.user-image .user-image-buttons {
    position: static;

    <!--top: 20%;-->
    <!--left: 37%;-->
}

.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 100%;
    min-height: 100%;
    font-size: 100px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}

.btn-red:hover {
    background-color: #da4f4a !important;
    border-color: #da4f4a;
    color: #ffffff;
    display: none;
}

.btn-red{
    display: none;
}

.btn-sm, .btn-group-sm>.btn {
    padding: 5px 10px;
    font-size: 12px;
    line-height: 1.5;
    border-radius: 3px;
}

.btn {
    transition: all 0.3s ease 0s !important;
    background-image: none !important;
    box-shadow: none !important;
    outline: none !important;
    position: relative;
}

.fileinput .btn {
    vertical-align: middle;
}

.bootstrap-tagsinput {
    line-height: 35px;
    width: 980px;
}

.error{

    font-weight: 400;
    font-style: normal;
    font-size: 12px;
}

.form-wizard .steps > li.active > a.step .desc {
    color: #2F353B;
    font-weight: 700;

}

.portlet.light {
    <!--padding: 0px 0px 4px;-->
    <!--background-color: #eef1f5;-->
}

.form-wizard .steps, .form-wizard .steps > li > a.step {
    <!--background-color: #eef1f5;-->
    background-image: none;
    border: 0;
    box-shadow: none;
    filter: none;
}

.dropzone .dz-preview, .dropzone-previews .dz-preview{
    margin: 3px !important;
}

hr {
    border: 0;
    border-top: 1px solid #6B6B6B;
    border-bottom: 0;
}


#tab2 {
    padding-left: 25px;
    padding-right: 25px;
}

.map-wrapper {
    float: left;
    margin: 0px 0px 0 0px;
}

#map {
    border: 1px solid #DDD;
    width: 292px;
    overflow: hidden;
    height: 223px;
    margin: 10px 0 10px 0;
    -webkit-box-shadow: #AAA 0px 0px 15px;
}

#my-awesome-dropzone-3{
    border: 3px dashed black !important;
    min-height: 224px !important;
    background: #ffffff;
}

#my-active-dropzone{
    border: 3px dashed black !important;
    min-height: 224px !important;
    background: #ffffff;
}

.dropzone .dz-preview .dz-details img, .dropzone-previews .dz-preview .dz-details img {
    position: absolute;
    top: 0px;
    left: 0;
    width: 100% !important;
    height: 100% !important;
}

.dropzone .dz-preview, .dropzone-previews .dz-preview {
    background: rgba(255,255,255,0.8);
    position: relative;
    display: inline-block;
    margin: 4px;
    vertical-align: top;
    border: 1px solid #acacac;
    padding: 6px 6px 6px 6px;
}

.sel2{
    width: 100%;
}

.tab-active{
    background: rgb(13, 103, 230) none repeat scroll 0% 0% !important;
    color: rgb(16, 245, 182) !important;
}

.sel2{
    width: 100%;
}

.div-border-top{
    border: 1px solid #cccccc;
    border-bottom: none;
}

.div-border-bottom{
    border: 1px solid #cccccc;
    border-top: none;
}

.div-border-left-right{
    border: 1px solid #cccccc;
    border-top: none;
    border-bottom: none;
}

.div-border{
    border: 1px solid #cccccc;
}

.div-color{
    background-color: rgb(243, 242, 242);
    border: 2px solid rgb(204, 204, 204) !important;
    border-radius: 10px !important;
    margin-right: 0.5%;
    margin-left: 0.5%;
    margin-bottom: 1%;
}


@media (min-width:992px) {
    .col-lg-4 {
        width:32.33% !important;
    }
}

.form-control {
    border: 1px solid #c0c0c0;
}

.brad-crum-1{
    font-size:16px;
    color: #3eb199;
}

.brad-crum-2{
    font-size:16px;
    color: #00448b;
}

.brad-crum-3{
    font-size:16px;
    color: #00448b;
    font-weight:700;
}

.form-wizard .steps > li.active > a.step .number {
    background-color: #0d67e6;
    color: #fff;
}

.form-wizard .steps > li > a.step .number{
  /* fallback */
  background-color: #0d67e6;
  background-image: url(images/linear_bg_1.png);
  background-repeat: repeat-y;
  color: #ffffff;
  font-weight:500;

  /* Safari 4-5, Chrome 1-9 */
  background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a));

  /* Safari 5.1, Chrome 10+ */
  background: -webkit-linear-gradient(left, #0d67e6, #11ca9a);

  /* Firefox 3.6+ */
  background: -moz-linear-gradient(left, #0d67e6, #11ca9a);

  /* IE 10 */
  background: -ms-linear-gradient(left, #0d67e6, #11ca9a);

  /* Opera 11.10+ */
  background: -o-linear-gradient(left, #0d67e6, #11ca9a);
}

.grey_color{
    border: 1px solid rgb(72, 72, 72);
    color: rgb(255, 255, 255);
    background: rgb(72, 72, 72) none repeat scroll 0% 0%;
    border-radius: 20px !important;
}

.done_btn{
    color: rgb(255, 255, 255);
    border-radius: 20px !important;
    background-color: #0d67e6;
    background-image: url(images/linear_bg_1.png);
    background-repeat: repeat-y;

    /* Safari 4-5, Chrome 1-9 */
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;

    /* Safari 5.1, Chrome 10+ */
    background: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Firefox 3.6+ */
    background: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* IE 10 */
    background: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Opera 11.10+ */
    background: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;

}

    .font-14{
        font-size:14px;
    }

    .font-12{
        font-size:12px;
    }

    .font-16{
        font-size:16px;
    }

    .font-15{
        font-size:15px;
    }

    .font-18{
        font-size:18px;
    }

    .font-green{
        color: #3eb199 !important;
    }

    .font-blue{
        color: #00448b !important;
    }

    .font-bold{
        font-weight:700;
    }

    .font-regular{
        font-weight:500;
    }

    @media (min-width:992px) {
      .box {
        height: auto !important;
      }
    }

    .parent{
        position: relative;
    }

    .child{
        width: 100%;
        position: absolute;
        bottom: 0;
        border-bottom-left-radius: 15px !important;
        border-bottom-right-radius: 15px !important;
    }

    .no_child{
        border-bottom-left-radius: 15px !important;
        border-bottom-right-radius: 15px !important;
    }

    .vertical_center{
        position: relative;
        top: 50%;
        -webkit-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
    }

    .text_center{
        position: relative;
        top: 25%;
        -webkit-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
    }
    
.col-lg-4 {
    width: 36.7% !important;
}
#show_data {
    display:none;
}
#show_data:hover #show_all {
    display:block;
}    

#user_role_table_paginate{
float: right !important;
}
.text-left{
	text-align: left !important;
	padding-left: 7px !important;
}
.sorting_asc{
	width: auto !important;
}
</style>

    <!-- END HEAD -->
 
<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid">
<!-- BEGIN HEADER -->
<div id="processing" style="display:none;">
    <div id="loading">
        <img src="{% static 'assets/loading-bars.gif' %}" style="height : 100px;">

    </div>
</div>
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner ">
        <!-- BEGIN LOGO -->
        <div class="page-logo">
            <a href="index.html">
                <img src="{% static 'assets/layouts/layout2/img/City_Hoopla_Logo.png' %}" alt="logo"
                     class="logo-default"/> </a>
            <div class="menu-toggler sidebar-toggler">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
           data-target=".navbar-collapse"> </a>
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN PAGE TOP -->
        <div class="page-top">
            <!-- BEGIN TOP NAVIGATION MENU -->
            <div class="top-menu">
                <ul class="nav navbar-nav pull-right">
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                            <!-- <img alt="" class="img-circle" src="{% static 'assets/layouts/layout2/img/avatar3_small.jpg" /> -->
                            <span class="username username-hide-on-mobile"> {{ request.session.login_user }} </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            <li>
                                <a href="/log-out/">
                                    <i class="icon-key"></i> Log Out </a>
                            </li>
                        </ul>
                    </li>
                    <!-- END USER LOGIN DROPDOWN -->
                </ul>
            </div>
            <!-- END TOP NAVIGATION MENU -->
        </div>
        <!-- END PAGE TOP -->
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
        
  <!-- BEGIN HEADER & CONTENT DIVIDER -->
  <div class="clearfix"> </div>
  <!-- END HEADER & CONTENT DIVIDER -->
  
        
 <!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
                <div class="page-sidebar navbar-collapse collapse">
                    {% include 'Admin/side-panel.html' %}
                </div>
            </div>
    <!-- END SIDEBAR -->
            
            
 <!-- BEGIN CONTENT -->
 <div class="page-content-wrapper" >
    <!-- BEGIN CONTENT BODY -->
       <div class="page-content">
       
                    <!-- BEGIN PAGE HEADER-->
                
                    
                    <!-- END PAGE HEADER-->
         <div class="row">
                  <div class="col-lg-12">
                      <div class="portlet light  ">
                      
                         <div class="page-bar">
                        <ul class="page-breadcrumb">
                            <li>
                                <span style="color: #3eb199;font-size: 16px;"> Administration  </span>
                                
                            </li>
                            <i class="fa fa-angle-right"></i>
                            <li>
                                <span style="color: #00448b;font-size: 16px;">Roles</span>
                            </li>
                        </ul>
                    </div>
                      		
                      		
                <div class="row ">
                    <div class="col-lg-12">
                        <div class="col-lg-4 " >
                            <div class="input-group form-group" >
                                <span class="input-group-btn">
                                    <span 
                                          class="btn btn btn-default">
                                        <span class="fa fa-search"></span>
                                    </span>
                                </span>
                                <input style=" font-size: 14px; " type="text"
                                       class="form-control " id="txtSearch"
                                       placeholder="Search User" name="s">
                            </div>
                        </div>
                       
                     
                        <div class="col-lg-7 ">
                            <div class="pull-right " style="color: #797979;">
                                <a style="font-size: 16px; " type="button"
                                   
                                   class="btn done_btn " data-toggle="modal" href="/add-new-role/" >Add Role
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="hre">
                 <div class="portlet-body form">
                          <div class="row">
                                  	<div class="col-lg-12">
                                    			<div class="portlet-body">
				                                    <div class="table-toolbar">
				                                        <div class="row">
				                                            <div class="col-md-6">
				                                            </div>
				                                            <div class="col-md-6">
				                                                <!-- <div class="btn-group pull-right">
				                                                    <button class="btn green  btn-outline dropdown-toggle" data-toggle="dropdown">Tools
				                                                        <i class="fa fa-angle-down"></i>
				                                                    </button>
				                                                    <ul class="dropdown-menu pull-right">
				                                                        <li>
				                                                            <a href="javascript:;">
				                                                                <i class="fa fa-print"></i> Print </a>
				                                                        </li>
				                                                        <li>
				                                                            <a href="javascript:;">
				                                                                <i class="fa fa-file-pdf-o"></i> Save as PDF </a>
				                                                        </li>
				                                                        <li>
				                                                            <a href="javascript:;">
				                                                                <i class="fa fa-file-excel-o"></i> Export to Excel </a>
				                                                        </li>
				                                                    </ul>
				                                                </div> -->
				                                            </div>
				                                        </div>
				                                    </div>
                                    <table class="table table-striped table-bordered table-hover table-checkable order-column" id="user_role_table">
                                        <thead>
                                            <tr >
	                                             <th > User Role </th>
                                                <th > Created by </th>
                                                <th > Creation Date </th>
                                                <th > Last Updated by </th>
                                                <th > Last Updated on </th>
                                                <th class="text-center" > Actions </th>
                                            </tr>
                                        </thead>
                                    	 	</table> 	
                                    	</div>
                                    </div>
                                    <!-- END FORM-->
                                </div>
                            </div>
                            <!-- END PORTLET-->
                        </div>
                    </div>
                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
    </div>  <!-- END PORTLET-->       
  </div>                                   
<!-- END CONTAINER -->



<!-- /.modal -->
            <div  class="modal fade bs-modal-lg" id="large" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">

                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 class="modal-title">Add User</h4>

            </div>
                        <div class="modal-body"> 
                			<form id="add_new_userform"  method="POST">    								
    								{%csrf_token%}                       	
                        	<div class="row">
				                 <div class="form-group col-md-4 ">
			                      <label for="">Username</label>
			                      <input type="text" id="username" class="form-control" placeholder="Username" name="username">
	                    			<label class="error" style="color:red; display:none;"></label>																							
	                    		  </div>
	                    		  
	                    		  <div class="form-group col-md-4 ">
			                      <label for="">Contact No</label>
			                      <input id="contact_no" maxlength="10" onkeypress="return validateFloatKeyPresss(this,event);" type="text" class="form-control" pattern="[0-9]{10}" name="contact_no" placeholder="Contact No">
	                    				<label class="error" style="color:red; display:none;"></label>																							
	                    		  </div>
	                    		  
	                    		   <div class="form-group col-md-4 ">
			                      <label for="">Email ID</label>
			                      <input id="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" name="email" class="form-control" placeholder="Email ID">
	                    				<label class="error" style="color:red; display:none;"></label>																							

	                    		  </div>
                    			</div> 
                    			 
								<div class="row">
                    		  <div class="form-group col-md-4 ">
		                      <label >Role </label>                              
                                  <select id="user_role" class="form-control select2me" name="user_role">
 		                		<option value="">Select Role</option>
			                		{%for user_role  in user_role_list%}
			                		<option value={{user_role.role_id}}>{{user_role.role_name}}</option>
			                		{%endfor%}
		                                 </select>
										<label class="error" style="color:red; display:none;"></label>	                    			
                    			</div>
                    			
                    			<div class="form-group col-md-4 ">
			                      <label for="">Password</label>
			                      <input id="password" type="password" class="form-control" name="password" placeholder="Password">
										<label class="error" style="color:red; display:none;"></label>	

	                    		  </div>
	                    		  
	                    		  <div class="form-group col-md-4 ">
			                      <label for="">Confirm Password</label>
			                      <input id="re-password" type="password" class="form-control" name="re-password" placeholder="Confirm Password">
										<label class="error" style="color:red; display:none;"></label>	
	                    		  </div>
                    		</div>	
                         
                        <div class="modal-footer">
                        <button type="button" class="btn btn-outline red" data-dismiss="modal">Cancel</button>
                           <input value="Save" onclick="user_register()" type="button"  class="btn green">                            
                        </div>
							</form>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
          </div> 
          
	<div  class="modal fade bs-modal-lg" id="edit-user" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">

                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 class="modal-title">Edit User</h4>

            </div>
                        <div class="modal-body"> 
                			<form id="edit_user"  method="POST" novalidate="novalidate"> 
    								{%csrf_token%}                       	
                        	<div class="row">
				                 <div class="form-group col-md-4 ">
			                      <label for="">Username</label>
			                      <input readonly="" id="e_username" required  type="text" required class="form-control" placeholder="Username" name="user_id">
										<label class="error" style="color:red; display:none;"></label>	                    		  
	                    		  </div>
	                    		  
	                    		  <div class="form-group col-md-4 ">
			                      <label for="">Contact No</label>
			                      <input id="e_contact_no" maxlength="10" onkeypress="return validateFloatKeyPresss(this,event);" required type="text" class="form-control" pattern="[0-9]{10}" name="e_contact_no" placeholder="Contact No">
										<label class="error" style="color:red; display:none;"></label>
	                    		  </div>
	                    		  
	                    		   <div class="form-group col-md-4 ">
			                      <label for="">Email ID</label>
			                      <input id="e_email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" name="e_email" class="form-control" placeholder="Email ID">
										<label class="error" style="color:red; display:none;"></label>

	                    		  </div>
                    			</div> 
                    			 
								<div class="row">
                    		  <div class="form-group col-md-4 ">
		                      <label >Role </label>                              
                                  <select id="e_user_role" class="form-control select2me" name="e_user_role">
 		                		<option value="">Select Role</option>
			                		{%for user_role  in user_role_list%}
			                		<option value={{user_role.role_id}}>{{user_role.role_name}}</option>
			                		{%endfor%}
		                                 </select>
                                         <label class="error" style="color:red; display:none;"></label>
                    			</div>
                    			
                    			<!-- <div class="form-group col-md-4 ">
			                      <label for="">Old Password</label>
			                      <input id="e_password" type="password" class="form-control" name="e_password" placeholder="Old Password">
										<div class="help-block with-errors"></div>

	                    		  </div> -->
	                    		  
	                    		  <div class="form-group col-md-4 ">
			                      <label for="">New Password</label>
			                      <input id="e_re_password" type="password" class="form-control" name="new_password" placeholder="New Password">
										<label class="error" style="color:red; display:none;"></label>
	                    		  </div>
                   		  <div class="form-group col-md-4 ">
			                      <label for="">Confirm Password</label>
			                      <input id="re_cnf_password" type="password" class="form-control" name="confirm_password" placeholder="Confirm Password">
										<label class="error" style="color:red; display:none;"></label>
	                    		  </div>
								</div>                         
                         
                        <div class="modal-footer">
                        <button type="button" class="btn btn-outline red" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn green">Save</button>
                            
                        </div>
							</form>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
          </div>           
           
      	<!-- /.modal -->
		<div style="overflow-y:hidden;" id="pwd_macth" class="modal fade" role="dialog">
		        <div class="modal-dialog" style="width:35%;">
		
		            <!-- Modal content-->
		            <div class="modal-content">
		                <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>
		                <div class="modal-body">
		                    <div class="row">
		                        <div class="col-lg-12 text-center">
		                            <h4>Passwords Don't Match</h4>
		                    </div>
		                        </div>        
		                        </div>
		                
		                <div class="modal-footer">
		                    <div class="row">
		                        <div class="col-md-offset-5 col-md-2">
		                        <button type="button" class="btn green" data-dismiss="modal">OK</button>
		                            <!-- <input data-dismiss="modal" value="OK"  
		                            class="btn btn-primary" id="btn-loading-demo"> -->
		                        </div>
		                    </div>
		                </div>
		
		            </div>
		
		        </div>
		    </div>        
      <div class="modal fade draggable-modal" id="success_modal" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:35%;">
                    <div class="modal-content"> 
                    <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                               
                        <div class="modal-body">
                            <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">User added successfully</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="location.reload();" class="btn green" data-dismiss="modal">OK</button>
                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
      <div class="modal fade draggable-modal" id="delete_user" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:35%;">
                    <div class="modal-content">
                    <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                                
                        <div class="modal-body">
                            <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">Do you want to Deactivate user profile?</h4>
                        </div>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="inactive_user()" class="btn green">Yes</button>
                        <button type="button" class="btn green" data-dismiss="modal">No</button>
                            
                        </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>   
        <div class="modal fade draggable-modal" id="reactivate_user" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:35%;">
                    <div class="modal-content"> 
                    <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                               
                        <div class="modal-body">
                            <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">Do you want to Activate user profile?</h4>
                        </div>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="activate_user()" class="btn green">Yes</button>
                        <button type="button" class="btn green" data-dismiss="modal">No</button>
                            
                        </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
       <div class="modal fade draggable-modal" id="remove_user" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:35%;">
                    <div class="modal-content"> 
                    <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                              
                        <div class="modal-body">
                   <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">User profile Deactivated successfully</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="location.reload()" class="btn green" data-dismiss="modal">OK</button>

                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div> 
         
    <div class="modal fade draggable-modal" id="error-modal" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:35%;">
                    <div class="modal-content">
                    <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                               
                        <div class="modal-body">
                            <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">Username already exists</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" class="btn green" data-dismiss="modal">OK</button>
                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>    
        <!-- BEGIN FOOTER -->
        <div class="page-footer">
            <div class="page-footer-inner"> 2016 &copy; DigiSpace.
            </div>
            <div class="scroll-to-top">
                <i class="icon-arrow-up"></i>
            </div>
        </div>

 <div class="modal fade draggable-modal" id="update_user" role="basic" aria-hidden="true">
       <div class="modal-dialog" style="width:35%;">
           <div class="modal-content">
           <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                                
               <div class="modal-body">
                   <form action="index.html" class="form-horizontal form-row-seperated">
                		<div class="form-body">
                   		<h4 class="text-center">User updated successfully</h4>
                     </div>
                     <div style="text-align:center !important;" class="modal-footer">
                     	<button type="button" onclick="location.reload()" class="btn green" data-dismiss="modal">OK</button>
                     </div>
              </div>
           </div>
      </div>
    </div> 


    <div class="modal fade draggable-modal" id="user_active_modal" role="basic" aria-hidden="true">
       <div class="modal-dialog" style="width:35%;">
           <div class="modal-content"> 
           <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                               
               <div class="modal-body">
                   <form action="index.html" class="form-horizontal form-row-seperated">
                        <div class="form-body">
                        <h4 class="text-center">User activated successfully</h4>
                     </div>
                     <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="location.reload()" class="btn green" data-dismiss="modal">OK</button>
                     </div>
              </div>
           </div>
      </div>
    </div>

<div style="overflow-y:hidden;" id="pwd_null" class="modal fade" role="dialog">
        <div class="modal-dialog" style="width:35%;">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header text-center">

                <img style="width: 18%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <label id="pwd_msg" ></label>
                    </div>
                        </div>        
                        </div>
                
                <div class="modal-footer">
                    <div class="row">
                        <div class="col-md-offset-5 col-md-2">
                            <input data-dismiss="modal" type="submit" value="OK"
                                   class="btn btn-primary" id="btn-loading-demo">
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div> 
 <div class="modal fade draggable-modal" id="error-modal" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content"> 
                    <div class="modal-header text-center">

                <img style="width: 10%;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>                                               
                        <div class="modal-body">
                            <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">Username already exists</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" class="btn green" data-dismiss="modal">OK</button>
                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
        
   <div class="modal fade draggable-modal" id="delete_user_role" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width:400px;">
                    <div class="modal-content"> 
                    <div class="modal-header">
                                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 138px;" src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">
<!--                                <button type="button" class="close" data-dismiss="modal">&times;</button> -->
                             </div>                                               
                 <div class="modal-body">
                            
                <div class="form-body">
                    <h4 class="text-center">Do you want to deactivate User Role?</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="inactive_user_role()" class="btn green">Yes</button>
                        <button type="button" class="btn green" data-dismiss="modal">No</button>
                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div> 
        
         <div class="modal fade draggable-modal" id="remove_user_role" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width: 380px;">
                    <div class="modal-content">  
                    <div class="modal-header">
			       				<img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 130px;" src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">
			         		<!--	<button type="button" class="close" data-dismiss="modal">&times;</button>-->
			      			 </div>                                                 
                        <div class="modal-body">
                   <form action="index.html" class="form-horizontal form-row-seperated">
                <div class="form-body">
                    <h4 class="text-center">User Role deactivated successfully</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="location.reload()" class="btn green" data-dismiss="modal">OK</button>

                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
        <div class="modal fade draggable-modal" id="active_service" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width: 401px;">
                    <div class="modal-content">
                     <div class="modal-header">
                            <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 134px;" src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

                    </div>                                                
                        <div class="modal-body">

                <div class="form-body">
                    <h4 class="text-center">Do you want to activate the User Role ?</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button type="button" onclick="activate_service()" class="btn green">Yes</button>
                        <button type="button" class="btn green" data-dismiss="modal">No</button>
                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
        
      <div class="modal fade draggable-modal" id="activate_service" tabindex="-1" role="basic" aria-hidden="true">
                <div class="modal-dialog" style="width: 411px;">
                    <div class="modal-content">
                     <div class="modal-header">
                            <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 142px;" src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

                    </div>                                                
                        <div class="modal-body">

                <div class="form-body">
                    <h4 class="text-center">User has been activated successfully</h4>
                        </div>
                        <div style="text-align:center !important;" class="modal-footer">
                        <button onclick="location.reload()"type="button"
                                   class="btn btn-primary" id="advert-btn">OK</button>

                            
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
        </div>
        
 

        <!-- BEGIN CORE PLUGINS -->
        <script src="{% static 'assets/global/plugins/jquery.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap/js/bootstrap.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/js.cookie.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery.blockui.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/uniform/jquery.uniform.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js'%}" type="text/javascript"></script>
        <!-- END CORE PLUGINS -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
         <script src="{% static 'assets/global/plugins/amcharts/amcharts/topup.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/moment.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/morris/morris.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/morris/raphael-min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/counterup/jquery.waypoints.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/counterup/jquery.counterup.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/amcharts.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/serial.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/pie.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/radar.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/themes/light.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/themes/patterns.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amcharts/themes/chalk.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/ammap/ammap.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/ammap/maps/js/worldLow.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/amcharts/amstockcharts/amstock.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/fullcalendar/fullcalendar.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/flot/jquery.flot.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/flot/jquery.flot.resize.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/flot/jquery.flot.categories.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery-easypiechart/jquery.easypiechart.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery.sparkline.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/moment.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/scripts/datatable.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/datatables/datatables.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js'%}" type="text/javascript"></script>
         <script src="{% static 'assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js'%}" type="text/javascript"></script>
       
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL SCRIPTS -->
        <script src="{% static 'assets/global/scripts/app.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/pages/scripts/components-date-time-pickers.min.js'%}" type="text/javascript"></script>
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <!--<script src="{% static 'assets/pages/scripts/table-datatables-responsive.js'%}" type="text/javascript"></script>-->
        <!-- END THEME GLOBAL SCRIPTS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="{% static 'assets/pages/scripts/dashboard.min.js'%}" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <!-- BEGIN THEME LAYOUT SCRIPTS -->
        <script src="{% static 'assets/layouts/layout2/scripts/layout.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/layouts/layout2/scripts/demo.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/layouts/global/scripts/quick-sidebar.min.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/highcharts/js/highcharts.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/highcharts/js/highcharts-3d.js'%}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/highcharts/js/highcharts-more.js'%}" type="text/javascript"></script>
        <!-- END THEME LAYOUT SCRIPTS -->
        
		<script type="text/javascript"> 

        $("#administration_anchor").addClass("tab-active");
        $("#administration_icon").addClass("icon-active");
        $("#administration_active").css("display","block");
        $("#user_role_nav").addClass("active");



        $(document).ready(function(){
         $('#user_role').val('');
         $('#edit_role').val('');
			 var oTable = $('#user_role_table').dataTable({
					"bFilter": true,
               "bLengthChange": false,
               //"scrollX": true,
               "iDisplayLength": 20,
            	//"sScrollY":"380px",
            	'bScrollCollapse':true,
                 "ajax": "/view-user-role-list/",
                  "columns": [
               
                {"data": "role_name" ,"sClass": "text-left"},
                {"data": "created_by"},
                {"data": "role_creation_date"},
                {"data": "updated_by"},
                {"data": "role_updation_date"},
                {"data": "actions"},
		            ],
		             "order": [[0, "asc"]],
		            "cache": false 
        })
   
			$("#txtSearch").keyup(function() {
				oTable.fnFilter($("#txtSearch").val());
			});           
 		});  

	var xyz;
    function delete_user_detail(id) {
        xyz = id;

        $("#delete_user").modal('show');
   }

function reactivate_user(id){
        xyz = id;
        $("#reactivate_user").modal('show');    
   }
       var xyz;
function delete_user_role(id) {

        xyz = id;
        $("#delete_user_role").modal('show');
   }
    function inactive_user_role() {
        var  role_id = xyz;
        $("#delete_user_role").modal('hide');
        $.ajax({
            type: 'POST',
            url: '/delete-user-role/',
            data: {'role_id': role_id},
            success: function (response) {
            console.log(response);
                if (response.success == 'true') {
                	$("#delete_user_role").modal('hide');
                  $("#remove_user_role").modal('show');
                }
                if (response.success == 'false') {
                    
                }
            },
            beforeSend: function () {
            $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error: function (response) {
            console.log(response);
               
            },
        });    
 }
 
 var pqr;
function active_service(id){
  pqr = id;
  $("#active_service").modal('show');
    }
    
 function activate_service() {
        var  role_id = pqr;
        $("#active_service").modal('hide');
        $.ajax({
            type: 'POST',
            url: '/active-user-role/',
            data: {'role_id': role_id},
            success: function (response) {
            console.log(response);
                if (response.success == 'true') {
                    $("#active_service").modal('hide');
                  $("#activate_service").modal('show');
                }
                if (response.success == 'false') {
                    
                }
            },
                beforeSend: function () {
            $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error: function (response) {
            console.log(response);
               
            },
        });    
    } 
      
    

function checkUserName(username){
	user_name = $(username).val()
    var regex = /^[a-zA-Z0-9]+$/;    
    if($(username).val()!=''){
 	$(username).parent().children('.error').css("display", "none");
    if(regex.test(user_name)){
    //alert('regex if');
    $(username).parent().children('.error').css("display", "none");
   return true;
   }
   else{
    //alert('regex else');
    //alert($(username).parent().children('.error').html());
    $(username).parent().children('.error').css("display", "block");
    $(username).parent().children('.error').text("No spaces and special characters allowed");
    return false;
   } 
   //return true;
   }else{
    $(username).parent().children('.error').css("display", "block");
    $(username).parent().children('.error').text("Please enter username");
   return false; 
   }
}


function checkContactNo(contact_no){
	
   var phoneNumberPattern = /^[789]\d{9}$/; 
	contactno = $(contact_no).val()  
   if(phoneNumberPattern.test(contactno)){

 	$(contact_no).parent().children('.error').css("display", "none");
   return true;
   }else{

    $(contact_no).parent().children('.error').css("display", "block");
    $(contact_no).parent().children('.error').text("Please enter valid contact number");
   return false; 
   }
}

function checkEmail(email){
	Email = $(email).val()
   var namePattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/;  
 if(namePattern.test(Email)){
      $(email).parent().children('.error').css("display", "none");
   return true;
   }else{
 	$(email).parent().children('.error').css("display", "block");
   $(email).parent().children('.error').text("Please enter valid email");
   return false; 
   }
}

function checkRole(user_role){
	if($(user_role).val()!='')
   {
    $(user_role).parent().children('.error').css("display", "none");
   return true;
   }else{
    $(user_role).parent().children('.error').css("display", "block");
    $(user_role).parent().children('.error').text("Please select an item from list");
   return false; 
   }
}


function validateData(){
	if(checkUserName("#username")&&checkContactNo("#contact_no")&&checkEmail("#email")&&checkRole("#user_role")&&checkPassword("#password")&&checkRePassword("#re-password")){
		return true;	
	}
	return false;
}

function validateData_edit(){
    if(checkUserName("#e_username")&&checkContactNo("#e_contact_no")&&checkEmail("#e_email")&&checkRole("#e_user_role")&&checkPassword("#e_re_password")&&checkRePassword("#re_cnf_password")){
        return true;    
    }
    return false;
}

function checkPassword(password){
   if($(password).val()!='')
   {

    $(password).parent().children('.error').css("display", "none");
   return true;
   }else{

    $(password).parent().children('.error').css("display", "block");
    $(password).parent().children('.error').text("Please enter password");
   return false; 
   }
}

function checkRePassword(re_password){
   if($(re_password).val()!="")
   {
    $(re_password).parent().children('.error').css("display", "none");
   return true;
   }else{

    $(re_password).parent().children('.error').css("display", "block");
    $(re_password).parent().children('.error').text("Please re enter password");
   return false; 
   }
}


function user_register() {
    //alert('fdhg');
	if(validateData()){	
		 	var password = $('#password').val();
 		var re_password = $('#re-password').val();
	   if (password != re_password) {
	 			$("#pwd_macth").modal('show');
 				return false;	
	 		}
	formData=$("#add_new_userform").serialize();
	//alert(formData);
	$.ajax({
		type : 'POST',
		url : '/add-user/',
		data : formData,
		success: function(response) {
			if(response.success=='true'){
				$('#large').modal('hide');
				$("#success_modal").modal('show');
			}
		else{		
		$("#error-modal").modal('show');
			}
		},
        beforeSend: function () {
            //alert('before');
   $("#processing").css('display','block');
   },
   complete: function () {
    //alert('after');
       $("#processing").css('display','none');
   },
		error: function(response){
			alert('error');
		}
	});
	}
}	

function inactive_user() {
        var user_id = xyz;
        $.ajax({
            type: 'POST',
            url: '/delete-user/',
            data: {'user_id': user_id},
            success: function (response) {
            console.log(response);
                if (response.success == 'true') {
                	$("#delete_user").modal('hide');
                  $("#remove_user").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
   $("#processing").css('display','block');
   },
   complete: function () {
       $("#processing").css('display','none');
   },
            error: function (response) {
            console.log(response);
                alert('error');
            },
        });    
    }

    function activate_user() {
        var  user_id = xyz;
        $.ajax({
            type: 'POST',
            url: '/activate-user/',
            data: {'user_id': user_id},
            success: function (response) {
            console.log(response);
                if (response.success == 'true') {
                    $("#reactivate_user").modal('hide');
                  $("#user_active_modal").modal('show');
                }
                if (response.success == 'false') {
                    alert(response.message);
                }
            },
            beforeSend: function () {
   $("#processing").css('display','block');
   },
   complete: function () {
       $("#processing").css('display','none');
   },
            error: function (response) {
            console.log(response);
                alert('error');
            },
        });    
    }
    
   function edit_user_detail(id) {
        //alert(id);
        
        $.ajax({
            type: 'GET',
            url: '/edit-user-detail/',
            data: {'user_id': id},
            success: function (response) {
                if (response.success == 'true') {
                
                
                    //alert(response.role_id)
                	/* $('#e_user_role').select2('val',response.role_id);
				       $('#e_username').val(response.user_name);
			          $('#e_contact_no').val(response.user_contact_no);
			          $('#e_email').val(response.user_email_id);
			          $("#edit-user").modal('show'); */
                }
                else {
                    console.log('ERRORS: ' + response.error_message);
                }
            },
            beforeSend: function () {
   $("#processing").css('display','block');
   },
   complete: function () {
       $("#processing").css('display','none');
   },
            error: function (response) {
                alert('error');
            },
        });
    }      
 
 
 $('#edit_user').submit(function(e) {
    e.preventDefault();
    //alert('Updating...')
    if(validateData_edit()){             
 		var password = $('#e_re_password').val(); 
        console.log(password);	
		var re_password = $('#re_cnf_password').val(); 
        console.log(re_password);		
 		if (password != re_password) {
            //alert('if');
	 			$("#pwd_macth").modal('show');
 				return false;	
	 		}
	 		else{		
            //alert('in else');		
 	 		$.ajax({
            type: 'POST',
            url: '/update-user-detail/',
            data: $("#edit_user").serialize(),

            success: function (response) {
                //alert(response);
                if (response.success == 'true') {
                    $("#edit-user").modal('hide');
                    $("#update_user").modal('show');
                }
                if (response.success == 'pass') {
                		$("#edit-user").modal('hide');
	           			$("#pwd_null").modal('show');
							$("#pwd_msg").text(response.message);
                 		}	
                
                if (response.success == "false") {
               		$("#edit-user").modal('hide');
                		$("#error-modal").modal('show'); 
               }
            },
            beforeSend: function () {
   $("#processing").css('display','block');
   },
   complete: function () {
       $("#processing").css('display','none');
   },
            error: function (response) {
                alert('error');
            },
        });        
 		}
        }		 		
 });
        
 function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode
        if (charCode > 31 && (charCode < 48 || charCode > 57 || charCode == 43 || charCode == 45 ))
            return false;
        return true;
    }

    function validateFloatKeyPresss(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        var number = el.value.split('+');
        var number1 = el.value.split('-');
        if (charCode != 45 && charCode != 43 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        //just one dot
        if (number.length > 1 && charCode == 43) {
            return false;
        }
        if (number1.length > 1 && charCode == 45) {
            return false;
        }
        return true;
    }

    
</script> 
      
 </body>
</html>